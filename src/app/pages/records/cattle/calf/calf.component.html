

<div class="row">
  <div class="col-md-12">
          <card cardTitle="Add Calf Details" >
                     <div fxLayout="row" fxLayoutAlign="space-around center" *ngIf="!(cattles | async)?.length > 0" >       
                        <p>No cow records  found,ensure the records are added to the system before proceeding</p>  
                    </div>

                  <form [formGroup]="calfForm"  (ngSubmit)="onSubmit()"  autocomplete="off"  class="my-3 border  p-3 ml-auto mr-auto" fxFlex="70%" fxFlex.xs="100%" *ngIf="(cattles | async)?.length > 0" > 
                      

                      <div class="input-row" fxLayout="row" fxLayout.lt-md="column"  fxLayoutGap.lt-md="0px"> 
                          <mat-form-field fxFlex  appearance="outline" formGroupName="cow"  class="m-auto pr-1" >
                              <mat-label>select cow</mat-label>
                              <mat-select  placeholder="---Select one---" type="text" id="cowTag"
                              formControlName="cowTag" required  >                              
                                      <mat-option *ngFor="let option of cattles | async" [value]="option.cowTag">
                                      {{option.cowTag}}
                                      </mat-option>                            
                              </mat-select>
                          </mat-form-field> 
          
                          <mat-form-field fxFlex appearance="outline" id="dateOfCalving" class="m-auto pl-1" >    
                              <mat-label>Date of Birth</mat-label>
                              <input matInput [matDatepicker]="picker" [max]="maxDate" placeholder="Date of Birth" formControlName="dateOfCalving" id="dateOfCalving"
                                  readonly (click)="picker.open()" >
                              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                              <mat-datepicker #picker></mat-datepicker>
                          </mat-form-field>
                      </div> 

                      <diV class="input-row">
                        <mat-form-field fxFlex  class="w-100 m-auto" appearance="outline" >
                            <mat-label>Calf Tag</mat-label>
                            <input matInput  class="inputField" type="text" id="calfId"
                                formControlName="calfId"  placeholder="T001" />                      
                            <mat-error *ngIf="hasError('calfId', 'required')">Please provide calf tag number</mat-error>
                            <mat-error *ngIf="hasError('calfId', 'maxLength')">Calf Tag should be atleast 4 characters</mat-error>
                          </mat-form-field> 
                      </diV>

                      <div class="input-row" fxLayout="row" fxLayout.lt-md="column"  fxLayoutGap.lt-md="0px"> 
                        
                        
                            <mat-form-field fxFlex  class="w-100 m-auto" appearance="outline"  class="m-auto pr-1"  >                               
                                <mat-label>Sex</mat-label>
                                <mat-select  placeholder="---Select sex---" type="text" id="sex"
                                formControlName="sex" required >                              
                                        <mat-option *ngFor="let option of calfSex" [value]="option.value">
                                        {{option.value}}
                                        </mat-option>                            
                                    </mat-select >                           
                                <mat-error *ngIf="hasError('sex', 'required')">Please select sex</mat-error>   
                                
                                
                                </mat-form-field> 
                            
            
                                <mat-form-field fxFlex  class="w-100 m-auto"  appearance="outline" formGroupName="breed" class="m-auto pl-1">
                                    <mat-label>Select Breed</mat-label> 
                                    <input type="text" placeholder="Select breed" aria-label="Number" matInput  formControlName="name"  [matAutocomplete]="auto">
                                    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                    <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                                        {{option}}
                                    </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                        
                      </div>
          
                      <div class="input-row">
                          <mat-form-field fxFlex class="w-100 m-auto"  appearance="outline" >
                              <mat-label>Remarks</mat-label>
                              <textarea matInput   class="inputField" type="number" id="remarks"
                                  formControlName="remarks"  placeholder="provide remarks if any"  ></textarea>
                          </mat-form-field>
                      </div>
          
                      <!-- Submit Button -->
                      <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="50px">
                          <button mat-raised-button color="primary"  [disabled]="!calfForm.valid">ADD Calf</button>
                          <button mat-raised-button color="primary" (click)="reset()">Cancel</button>
                          
                          </div>
                      </form>         
          </card>
      </div>
  </div>
  
   
   
   
  
  
  